<p-dialog header="Edit Profile" [modal]="true" [(visible)]="visible" [style]="{ width: '50rem' }">
  <!-- Form -->
  <form [formGroup]="faqForm" class="grid grid-cols-2 gap-4 my-4">
    <!-- Question Field -->
    <div class="col-span-1">
      <label for="question" class="block font-medium mb-2">Question *</label>
      <input
        pInputText
        id="question"
        formControlName="question"
        placeholder="Enter the question"
        class="w-full"
        [class]="isFieldInvalid('question') ? 'ng-invalid ng-dirty' : ''"
      />

      @if (isFieldInvalid('question')) {
      <small class="p-error block mt-1 text-red-500">
        <i class="pi pi-exclamation-circle"></i>
        {{ getFieldError('question') }}
      </small>
      }
    </div>

    <!-- Category Field -->
    <div class="col-span-1">
      <label for="faq_category_id" class="block font-medium mb-2">Category *</label>
      <p-select
        id="faq_category_id"
        formControlName="faq_category_id"
        [options]="faqService.categories()"
        optionLabel="name"
        optionValue="id"
        class="w-full"
        placeholder="Select a category"
        [showClear]="true"
        [filter]="true"
        filterBy="name"
      >
      </p-select>
    </div>

    <!-- Answer Field -->
    <div class="col-span-2">
      <label for="answer" class="block font-medium mb-2">Answer *</label>
      <textarea
        pInputTextarea
        id="answer"
        formControlName="answer"
        [rows]="5"
        placeholder="Enter the detailed answer..."
        class="w-full"
        [class]="isFieldInvalid('answer') ? 'ng-invalid ng-dirty' : ''"
      >
      </textarea>

      @if(isFieldInvalid('answer')) {
      <small class="p-error block mt-1 text-red-500">
        <i class="pi pi-exclamation-circle"></i>
        {{ getFieldError('answer') }}
      </small>
      }
    </div>
  </form>
  <!-- Buttons -->
  <div class="flex justify-end gap-2">
    <p-button label="Cancel" severity="secondary" (click)="onCancel()" />
    <p-button label="Save" (click)="onSave()" />
  </div>
</p-dialog>
